<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>rcutils: rcutils/error_handling.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">rcutils
   &#160;<span id="projectnumber">master</span>
   </div>
   <div id="projectbrief">C API providing common utilities and data structures.</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_35e5e21a489898df0ee41cda50c8dfe6.html">rcutils</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">error_handling.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &lt;stddef.h&gt;</code><br />
<code>#include &lt;stdio.h&gt;</code><br />
<code>#include &lt;stdlib.h&gt;</code><br />
<code>#include &lt;string.h&gt;</code><br />
<code>#include &quot;<a class="el" href="allocator_8h_source.html">rcutils/allocator.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="macros_8h_source.html">rcutils/macros.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="rcutils__ret_8h_source.html">rcutils/types/rcutils_ret.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="visibility__control_8h_source.html">rcutils/visibility_control.h</a>&quot;</code><br />
</div>
<p><a href="error__handling_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct which encapsulates the error state set by <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG()</a>.  <a href="structrcutils__error__state__t.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:a2eb2d28e085d8df3bcca624b83982f70"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a2eb2d28e085d8df3bcca624b83982f70">RCUTILS_SAFE_FWRITE_TO_STDERR</a>(msg)&#160;&#160;&#160;fwrite(msg, sizeof(char), strlen(msg), stderr)</td></tr>
<tr class="separator:a2eb2d28e085d8df3bcca624b83982f70"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3750ab0fed4b9e020f2a9fba9b54c277"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a3750ab0fed4b9e020f2a9fba9b54c277">RCUTILS_CHECK_ARGUMENT_FOR_NULL</a>(argument,  error_return_type,  allocator)</td></tr>
<tr class="memdesc:a3750ab0fed4b9e020f2a9fba9b54c277"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check an argument for a null value.  <a href="#a3750ab0fed4b9e020f2a9fba9b54c277">More...</a><br /></td></tr>
<tr class="separator:a3750ab0fed4b9e020f2a9fba9b54c277"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4bab867c5f356c3100e044b825bf05cc"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a4bab867c5f356c3100e044b825bf05cc">RCUTILS_CHECK_FOR_NULL_WITH_MSG</a>(value,  msg,  error_statement,  allocator)</td></tr>
<tr class="memdesc:a4bab867c5f356c3100e044b825bf05cc"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check a value for null, with an error message and error statement.  <a href="#a4bab867c5f356c3100e044b825bf05cc">More...</a><br /></td></tr>
<tr class="separator:a4bab867c5f356c3100e044b825bf05cc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a40d76269e8249de6788129bd01d8eab4"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4">RCUTILS_SET_ERROR_MSG</a>(msg,  allocator)&#160;&#160;&#160;<a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3">rcutils_set_error_state</a>(msg, __FILE__, __LINE__, allocator);</td></tr>
<tr class="memdesc:a40d76269e8249de6788129bd01d8eab4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the error message, as well as append the current file and line number.  <a href="#a40d76269e8249de6788129bd01d8eab4">More...</a><br /></td></tr>
<tr class="separator:a40d76269e8249de6788129bd01d8eab4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad826203c8d199aa81df26401a0dd074e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#ad826203c8d199aa81df26401a0dd074e">RCUTILS_SET_ERROR_MSG_WITH_FORMAT_STRING</a>(allocator,  format_string, ...)</td></tr>
<tr class="memdesc:ad826203c8d199aa81df26401a0dd074e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the error message using a format string and format arguments.  <a href="#ad826203c8d199aa81df26401a0dd074e">More...</a><br /></td></tr>
<tr class="separator:ad826203c8d199aa81df26401a0dd074e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a54602d3d4b7a5b19ba2be0baeef1c59e"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a54602d3d4b7a5b19ba2be0baeef1c59e">rcutils_error_state_t</a></td></tr>
<tr class="memdesc:a54602d3d4b7a5b19ba2be0baeef1c59e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct which encapsulates the error state set by <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG()</a>.  <a href="#a54602d3d4b7a5b19ba2be0baeef1c59e">More...</a><br /></td></tr>
<tr class="separator:a54602d3d4b7a5b19ba2be0baeef1c59e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7903e7942723c40d306ef5e3d52f0ada"><td class="memItemLeft" align="right" valign="top"><a class="el" href="rcutils__ret_8h.html#a016de12b840689bdc6c96cab97b08c21">rcutils_ret_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a7903e7942723c40d306ef5e3d52f0ada">rcutils_error_state_copy</a> (const <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *src, <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *dst)</td></tr>
<tr class="memdesc:a7903e7942723c40d306ef5e3d52f0ada"><td class="mdescLeft">&#160;</td><td class="mdescRight">Copy an error state into a destination error state.  <a href="#a7903e7942723c40d306ef5e3d52f0ada">More...</a><br /></td></tr>
<tr class="separator:a7903e7942723c40d306ef5e3d52f0ada"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4d8a958361072185ef2f32bd2a9066c"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#ae4d8a958361072185ef2f32bd2a9066c">rcutils_error_state_fini</a> (<a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *error_state)</td></tr>
<tr class="memdesc:ae4d8a958361072185ef2f32bd2a9066c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Finalizes a copied error state.  <a href="#ae4d8a958361072185ef2f32bd2a9066c">More...</a><br /></td></tr>
<tr class="separator:ae4d8a958361072185ef2f32bd2a9066c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0e08e148e0d8ad75729d6c1a9c691c3"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3">rcutils_set_error_state</a> (const char *error_msg, const char *file, size_t line_number, <a class="el" href="structrcutils__allocator__t.html">rcutils_allocator_t</a> allocator)</td></tr>
<tr class="memdesc:af0e08e148e0d8ad75729d6c1a9c691c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Set the error message, as well as the file and line on which it occurred.  <a href="#af0e08e148e0d8ad75729d6c1a9c691c3">More...</a><br /></td></tr>
<tr class="separator:af0e08e148e0d8ad75729d6c1a9c691c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4ed6412398b42e134723e47f33eb09ca"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a4ed6412398b42e134723e47f33eb09ca">rcutils_error_is_set</a> (void)</td></tr>
<tr class="memdesc:a4ed6412398b42e134723e47f33eb09ca"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return <code>true</code> if the error is set, otherwise <code>false</code>.  <a href="#a4ed6412398b42e134723e47f33eb09ca">More...</a><br /></td></tr>
<tr class="separator:a4ed6412398b42e134723e47f33eb09ca"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b87fcfb5ab42d3f77de0df9321583fa"><td class="memItemLeft" align="right" valign="top">const <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a4b87fcfb5ab42d3f77de0df9321583fa">rcutils_get_error_state</a> (void)</td></tr>
<tr class="memdesc:a4b87fcfb5ab42d3f77de0df9321583fa"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return an <a class="el" href="structrcutils__error__state__t.html" title="Struct which encapsulates the error state set by RCUTILS_SET_ERROR_MSG(). ">rcutils_error_state_t</a> which was set with <a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3" title="Set the error message, as well as the file and line on which it occurred. ">rcutils_set_error_state()</a>.  <a href="#a4b87fcfb5ab42d3f77de0df9321583fa">More...</a><br /></td></tr>
<tr class="separator:a4b87fcfb5ab42d3f77de0df9321583fa"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a167525f559a32b0cd81a005d5257c6a3"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#a167525f559a32b0cd81a005d5257c6a3">rcutils_get_error_string</a> (void)</td></tr>
<tr class="memdesc:a167525f559a32b0cd81a005d5257c6a3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the error message followed by <code>, at &lt;file&gt;:&lt;line&gt;</code>, or <code>NULL</code>.  <a href="#a167525f559a32b0cd81a005d5257c6a3">More...</a><br /></td></tr>
<tr class="separator:a167525f559a32b0cd81a005d5257c6a3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af4e67504a2d0d6724f16d4b39cc1c22b"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#af4e67504a2d0d6724f16d4b39cc1c22b">rcutils_get_error_string_safe</a> (void)</td></tr>
<tr class="memdesc:af4e67504a2d0d6724f16d4b39cc1c22b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return the error message followed by <code>, at &lt;file&gt;:&lt;line&gt;</code> if set, else "error not set".  <a href="#af4e67504a2d0d6724f16d4b39cc1c22b">More...</a><br /></td></tr>
<tr class="separator:af4e67504a2d0d6724f16d4b39cc1c22b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afc6e9f045828b75413aefe2e7c277f7e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="error__handling_8h.html#afc6e9f045828b75413aefe2e7c277f7e">rcutils_reset_error</a> (void)</td></tr>
<tr class="memdesc:afc6e9f045828b75413aefe2e7c277f7e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reset the error state by clearing any previously set error state.  <a href="#afc6e9f045828b75413aefe2e7c277f7e">More...</a><br /></td></tr>
<tr class="separator:afc6e9f045828b75413aefe2e7c277f7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="a2eb2d28e085d8df3bcca624b83982f70"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2eb2d28e085d8df3bcca624b83982f70">&#9670;&nbsp;</a></span>RCUTILS_SAFE_FWRITE_TO_STDERR</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCUTILS_SAFE_FWRITE_TO_STDERR</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg</td><td>)</td>
          <td>&#160;&#160;&#160;fwrite(msg, sizeof(char), strlen(msg), stderr)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="a3750ab0fed4b9e020f2a9fba9b54c277"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3750ab0fed4b9e020f2a9fba9b54c277">&#9670;&nbsp;</a></span>RCUTILS_CHECK_ARGUMENT_FOR_NULL</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCUTILS_CHECK_ARGUMENT_FOR_NULL</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">argument, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">error_return_type, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">allocator&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><a class="code" href="error__handling_8h.html#a4bab867c5f356c3100e044b825bf05cc">RCUTILS_CHECK_FOR_NULL_WITH_MSG</a>(argument, #argument <span class="stringliteral">&quot; argument is null&quot;</span>, \</div><div class="line">    <span class="keywordflow">return</span> error_return_type, allocator)</div><div class="ttc" id="error__handling_8h_html_a4bab867c5f356c3100e044b825bf05cc"><div class="ttname"><a href="error__handling_8h.html#a4bab867c5f356c3100e044b825bf05cc">RCUTILS_CHECK_FOR_NULL_WITH_MSG</a></div><div class="ttdeci">#define RCUTILS_CHECK_FOR_NULL_WITH_MSG(value, msg, error_statement, allocator)</div><div class="ttdoc">Check a value for null, with an error message and error statement. </div><div class="ttdef"><b>Definition:</b> error_handling.h:127</div></div>
</div><!-- fragment -->
<p>Check an argument for a null value. </p>
<p>If the argument's value is <code>NULL</code>, set the error message saying so and return the <code>error_return_type</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">argument</td><td>The argument to test. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_return_type</td><td>The type to return if the argument is <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to use if an error message needs to be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4bab867c5f356c3100e044b825bf05cc"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4bab867c5f356c3100e044b825bf05cc">&#9670;&nbsp;</a></span>RCUTILS_CHECK_FOR_NULL_WITH_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCUTILS_CHECK_FOR_NULL_WITH_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">value, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">error_statement, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">allocator&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">if</span> (!(value)) { \</div><div class="line">    RCUTILS_SET_ERROR_MSG(msg, allocator); \</div><div class="line">    error_statement; \</div><div class="line">  }</div></div><!-- fragment -->
<p>Check a value for null, with an error message and error statement. </p>
<p>If <code>value</code> is <code>NULL</code>, the error statement will be evaluated after setting the error message.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td>The value to test. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The error message if <code>value</code> is <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">error_statement</td><td>The statement to evaluate if <code>value</code> is <code>NULL</code>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to use if an error message needs to be allocated. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a40d76269e8249de6788129bd01d8eab4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a40d76269e8249de6788129bd01d8eab4">&#9670;&nbsp;</a></span>RCUTILS_SET_ERROR_MSG</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCUTILS_SET_ERROR_MSG</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">msg, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">allocator&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3">rcutils_set_error_state</a>(msg, __FILE__, __LINE__, allocator);</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the error message, as well as append the current file and line number. </p>
<p>If an error message was previously set, and <a class="el" href="error__handling_8h.html#afc6e9f045828b75413aefe2e7c277f7e" title="Reset the error state by clearing any previously set error state. ">rcutils_reset_error()</a> was not called afterwards, and this library was built with RCUTILS_REPORT_ERROR_HANDLING_ERRORS turned on, then the previously set error message will be printed to stderr. Error state storage is thread local and so all error related functions are also thread local.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">msg</td><td>The error message to be set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to be used when allocating space for the error state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad826203c8d199aa81df26401a0dd074e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad826203c8d199aa81df26401a0dd074e">&#9670;&nbsp;</a></span>RCUTILS_SET_ERROR_MSG_WITH_FORMAT_STRING</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define RCUTILS_SET_ERROR_MSG_WITH_FORMAT_STRING</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">allocator, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">format_string, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>...</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<b>Value:</b><div class="fragment"><div class="line"><span class="keywordflow">do</span> { \</div><div class="line">    char * output_msg = NULL; \</div><div class="line">    output_msg = <a class="code" href="format__string_8h.html#a8910f05e8f23f73f8eda36b87fb87be9">rcutils_format_string</a>(allocator, format_string, __VA_ARGS__); \</div><div class="line">    if (output_msg) { \</div><div class="line">      RCUTILS_SET_ERROR_MSG(output_msg, allocator); \</div><div class="line">      allocator.deallocate(output_msg, allocator.state); \</div><div class="line">    } <span class="keywordflow">else</span> { \</div><div class="line">      RCUTILS_SAFE_FWRITE_TO_STDERR(<span class="stringliteral">&quot;Failed to allocate memory for error message\n&quot;</span>); \</div><div class="line">    } \</div><div class="line">  } <span class="keywordflow">while</span> (<span class="keyword">false</span>)</div><div class="ttc" id="format__string_8h_html_a8910f05e8f23f73f8eda36b87fb87be9"><div class="ttname"><a href="format__string_8h.html#a8910f05e8f23f73f8eda36b87fb87be9">rcutils_format_string</a></div><div class="ttdeci">#define rcutils_format_string(allocator, format_string,...)</div><div class="ttdoc">Return a newly allocated string, created with a format string. </div><div class="ttdef"><b>Definition:</b> format_string.h:35</div></div>
</div><!-- fragment -->
<p>Set the error message using a format string and format arguments. </p>
<p>This function sets the error message using the given format string and then frees the memory allocated during the string formatting.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to be used when allocating space for the error state. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">format_string</td><td>The string to be used as the format of the error message. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">...</td><td>Arguments for the format string. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a54602d3d4b7a5b19ba2be0baeef1c59e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a54602d3d4b7a5b19ba2be0baeef1c59e">&#9670;&nbsp;</a></span>rcutils_error_state_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a>  <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct which encapsulates the error state set by <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG()</a>. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7903e7942723c40d306ef5e3d52f0ada"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7903e7942723c40d306ef5e3d52f0ada">&#9670;&nbsp;</a></span>rcutils_error_state_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="rcutils__ret_8h.html#a016de12b840689bdc6c96cab97b08c21">rcutils_ret_t</a> rcutils_error_state_copy </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *&#160;</td>
          <td class="paramname"><em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *&#160;</td>
          <td class="paramname"><em>dst</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Copy an error state into a destination error state. </p>
<p>The destination state must be empty, the memory will not be free'd. The allocator from the source is used to allocate memory in the dst.</p>
<p>The copied error_state should be finalized with <a class="el" href="error__handling_8h.html#ae4d8a958361072185ef2f32bd2a9066c" title="Finalizes a copied error state. ">rcutils_error_state_fini()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">src</td><td>the error state to copy from </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">dst</td><td>the error state to copy into </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>RCUTILS_RET_OK if successful, or </dd>
<dd>
RCUTILS_RET_BAD_ALLOC if memory allocation fails, or </dd>
<dd>
RCUTILS_RET_ERROR if an unknown error occurs. </dd></dl>

</div>
</div>
<a id="ae4d8a958361072185ef2f32bd2a9066c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae4d8a958361072185ef2f32bd2a9066c">&#9670;&nbsp;</a></span>rcutils_error_state_fini()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcutils_error_state_fini </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a> *&#160;</td>
          <td class="paramname"><em>error_state</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Finalizes a copied error state. </p>

</div>
</div>
<a id="af0e08e148e0d8ad75729d6c1a9c691c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0e08e148e0d8ad75729d6c1a9c691c3">&#9670;&nbsp;</a></span>rcutils_set_error_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcutils_set_error_state </td>
          <td>(</td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>error_msg</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const char *&#160;</td>
          <td class="paramname"><em>file</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">size_t&#160;</td>
          <td class="paramname"><em>line_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structrcutils__allocator__t.html">rcutils_allocator_t</a>&#160;</td>
          <td class="paramname"><em>allocator</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Set the error message, as well as the file and line on which it occurred. </p>
<p>This is not meant to be used directly, but instead via the <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG(msg)</a> macro.</p>
<p>The error_msg parameter is copied into the internal error storage and must be null terminated. The file parameter is not copied, but instead is assumed to be a global as it should be set to the <b>FILE</b> preprocessor literal when used with the <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG()</a> macro. It should also be null terminated.</p>
<p>The allocator is kept within the error state so that it can be used to deallocate it in the future. Therefore the allocator state needs to exist until after the last time <a class="el" href="error__handling_8h.html#afc6e9f045828b75413aefe2e7c277f7e" title="Reset the error state by clearing any previously set error state. ">rcutils_reset_error()</a> is called.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">error_msg</td><td>The error message to set. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">file</td><td>The path to the file in which the error occurred. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">line_number</td><td>The line number on which the error occurred. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">allocator</td><td>The allocator to be used when allocating space for the error state. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4ed6412398b42e134723e47f33eb09ca"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4ed6412398b42e134723e47f33eb09ca">&#9670;&nbsp;</a></span>rcutils_error_is_set()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool rcutils_error_is_set </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return <code>true</code> if the error is set, otherwise <code>false</code>. </p>

</div>
</div>
<a id="a4b87fcfb5ab42d3f77de0df9321583fa"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b87fcfb5ab42d3f77de0df9321583fa">&#9670;&nbsp;</a></span>rcutils_get_error_state()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="structrcutils__error__state__t.html">rcutils_error_state_t</a>* rcutils_get_error_state </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return an <a class="el" href="structrcutils__error__state__t.html" title="Struct which encapsulates the error state set by RCUTILS_SET_ERROR_MSG(). ">rcutils_error_state_t</a> which was set with <a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3" title="Set the error message, as well as the file and line on which it occurred. ">rcutils_set_error_state()</a>. </p>
<p>The returned pointer will be NULL if no error has been set in this thread.</p>
<p>The returned pointer is valid until RCUTILS_SET_ERROR_MSG, rcutils_set_error_state, or rcutils_reset_error are called in the same thread.</p>
<dl class="section return"><dt>Returns</dt><dd>A pointer to the current error state struct. </dd></dl>

</div>
</div>
<a id="a167525f559a32b0cd81a005d5257c6a3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a167525f559a32b0cd81a005d5257c6a3">&#9670;&nbsp;</a></span>rcutils_get_error_string()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rcutils_get_error_string </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the error message followed by <code>, at &lt;file&gt;:&lt;line&gt;</code>, or <code>NULL</code>. </p>
<p>The returned pointer is valid until <a class="el" href="error__handling_8h.html#a40d76269e8249de6788129bd01d8eab4" title="Set the error message, as well as append the current file and line number. ">RCUTILS_SET_ERROR_MSG()</a>, <a class="el" href="error__handling_8h.html#af0e08e148e0d8ad75729d6c1a9c691c3" title="Set the error message, as well as the file and line on which it occurred. ">rcutils_set_error_state()</a>, or <a class="el" href="error__handling_8h.html#afc6e9f045828b75413aefe2e7c277f7e" title="Reset the error state by clearing any previously set error state. ">rcutils_reset_error()</a> are called from the same thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The current formatted error string, or NULL if not set. </dd></dl>

</div>
</div>
<a id="af4e67504a2d0d6724f16d4b39cc1c22b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af4e67504a2d0d6724f16d4b39cc1c22b">&#9670;&nbsp;</a></span>rcutils_get_error_string_safe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const char* rcutils_get_error_string_safe </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Return the error message followed by <code>, at &lt;file&gt;:&lt;line&gt;</code> if set, else "error not set". </p>
<p>This function is guaranteed to return a valid c-string.</p>
<p>The returned pointer is valid until RCUTILS_SET_ERROR_MSG, rcutils_set_error_state, or rcutils_reset_error are called in the same thread.</p>
<dl class="section return"><dt>Returns</dt><dd>The current error string, with file and line number, or "error not set" if not set. </dd></dl>

</div>
</div>
<a id="afc6e9f045828b75413aefe2e7c277f7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afc6e9f045828b75413aefe2e7c277f7e">&#9670;&nbsp;</a></span>rcutils_reset_error()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void rcutils_reset_error </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Reset the error state by clearing any previously set error state. </p>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
